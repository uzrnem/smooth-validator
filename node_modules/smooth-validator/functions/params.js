var noExtraParams = function (condition) {
  var details = condition.split(":");
  if (details.length > 1) {
    throw "Invalid validation '" + details[0] + "', no extra params required"
  }
  return { key: condition, value: null }
}
var oneExtraParams = function (condition) {
  var details = condition.split(":");
  if (details.length < 2) {
    throw "Invalid validation '" + details[0] + "', value param is required"
  }
  if (details[1].split(',').length > 1) {
    throw "Invalid validation '" + details[0] + "', only one value param is allowed"
  }
  return { key: details[0], value: details[1].split(',') }
}
var twoExtraParams = function (condition) {
  var details = condition.split(":");
  if (details.length < 2) {
    throw "Invalid validation '" + details[0] + "', value param is required"
  }
  if (details[1].split(',').length < 2) {
    throw "Invalid validation '" + details[0] + "', two params are required"
  }
  if (details[1].split(',').length != 2) {
    throw "Invalid validation '" + details[0] + "', only two params are allowed"
  }
  return { key: details[0], value: details[1].split(',') }
}
var manyExtraParams = function (condition) {
  var details = condition.split(":");
  if (details.length < 2) {
    throw "Invalid validation '" + details[0] + "', value param is required"
  }
  if (details[1].split(',').length < 1) {
    throw "Invalid validation '" + details[0] + "', atleast one value is required"
  }
  return { key: details[0], value: details[1].split(',') }
}
var anyExtraParams = function (condition) {
  var details = condition.split(":");
  return {
    key: details[0],
    value: details.length > 1 ? details[1].split(',') : []
  }
}

module.exports = {
  noExtraParams, oneExtraParams, twoExtraParams,
  manyExtraParams, anyExtraParams
}